# Strings in Java 

## 1. What is a String?

A **String** in Java represents a sequence of characters.
It is **immutable**, meaning once created, its value **cannot be changed**.

```java
String s1 = "Hello";              // stored in String Constant Pool (SCP)
String s2 = new String("Hello");  // stored in Heap memory
```

| Type            | Stored In            | Mutable | Thread Safe |
| --------------- | -------------------- | ------- | ----------- |
| `String`        | String Constant Pool | ‚ùå       | ‚úÖ           |
| `StringBuffer`  | Heap                 | ‚úÖ       | ‚úÖ           |
| `StringBuilder` | Heap                 | ‚úÖ       | ‚ùå           |

---

## 2. Why Strings are Immutable

### Reasons:

* **Security:** Strings are used in class loading, file paths, etc.

* **Thread-safety:** Immutable objects are naturally thread-safe.

* **Performance:** Allows JVM to use the **String Constant Pool**.

* **Hashing optimization:** Hash codes are cached for use in hash-based collections.

### Example:

```java
String str = "Java";
str.concat(" Language");  // doesn't change original string
System.out.println(str);  // Output: Java

str = str.concat(" Language");
System.out.println(str);  // Output: Java Language
```

üß† Every modification actually **creates a new String object** in memory.

---

## 3. String Constant Pool (SCP)

The **String Constant Pool** stores one copy of each literal string to save memory.

```java
String s1 = "Hello";
String s2 = "Hello";          // refers to same object in SCP
String s3 = new String("Hello"); // creates a new object in Heap
```

| Expression | Same Reference as `s1`? | Reason                |
| ---------- | ----------------------- | --------------------- |
| `s2`       | ‚úÖ                       | Same literal from SCP |
| `s3`       | ‚ùå                       | New object in Heap    |

---

## 4. Mutable Strings ‚Äî StringBuffer & StringBuilder

When you need to **modify strings frequently**, use these **mutable** classes.

###  Difference Overview

| **Feature**       | **StringBuffer**       | **StringBuilder**      |
| ------------- | -------------------- | -------------------- |
| Mutability    | ‚úÖ Mutable            | ‚úÖ Mutable            |
| Thread Safety | ‚úÖ Synchronized       | ‚ùå Not synchronized   |
| Performance   | Slower (due to sync) | Faster               |
| Introduced In | JDK 1.0              | JDK 1.5              |
| Best For      | Multi-threaded apps  | Single-threaded apps |
| Usage        | When thread safety is needed | When performance is critical |


---

## 5. StringBuffer ‚Äî Thread-Safe Mutable String

### Example:

```java
StringBuffer sb = new StringBuffer("Hello");
sb.append(" World");
System.out.println(sb);  // Output: Hello World
```

### Key Methods:

| Method                | Description                       |
| --------------------- | --------------------------------- |
| `append(String)`      | Adds content to the end           |
| `insert(int, String)` | Inserts content at position       |
| `delete(int, int)`    | Deletes range of characters       |
| `reverse()`           | Reverses the string               |
| `capacity()`          | Shows internal buffer size        |
| `ensureCapacity(int)` | Ensures buffer has given capacity |
| `setLength(int)`      | Sets the length of the string     |
| `toString()`          | Converts to String object         |
| `charAt(int)`         | Returns char at specified index    |
| `replace(int, int, String)` | Replaces characters in range      |
| `substring(int, int)` | Extracts substring                 |

### Example ‚Äî Understanding Capacity:

```java
StringBuffer sb = new StringBuffer(); // default capacity = 16
System.out.println(sb.capacity());    // 16

sb.append("abcdefghijklmnop");        // fills capacity
sb.append("q");                       // triggers expansion
System.out.println(sb.capacity());    // (old*2) + 2 = 34

sb.ensureCapacity(50);              // ensures at least 50
System.out.println(sb.capacity());    // 50
```

---

## 6. StringBuilder ‚Äî Fast, Non-Thread-Safe Version

### Example:

```java
StringBuilder sb = new StringBuilder("Java");
sb.append(" Rocks!");
System.out.println(sb);  // Output: Java Rocks!
```

### When to Use:

‚úÖ Best choice for **string concatenation in loops**

‚ùå Don‚Äôt use in **multi-threaded** environments.

---

## 7. Performance Comparison

```java
public class ComparePerformance {
    public static void main(String[] args) {
        // Using String
        long start = System.currentTimeMillis();
        String s = "";
        for (int i = 0; i < 10000; i++) {
            s += i;
        }
        System.out.println("String time: " + (System.currentTimeMillis() - start));

        // Using StringBuilder
        start = System.currentTimeMillis();
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < 10000; i++) {
            sb.append(i);
        }
        System.out.println("StringBuilder time: " + (System.currentTimeMillis() - start));
    }
}
```
 **Result:** `StringBuilder` is **10‚Äì20x faster** than `String` in such cases.

---

## 8. Common String Methods (Quick Reference)

| **Method**          | **Description**             | **Example**                                |
| --------------- | ----------------------- | -------------------------------------- |
| `length()`      | Returns number of chars | `"Hello".length()` ‚Üí 5                 |
| `charAt(int)`   | Returns char at index   | `"Java".charAt(1)` ‚Üí `'a'`             |
| `substring()`   | Extract substring       | `"Java".substring(1,3)` ‚Üí `"av"`       |
| `equals()`      | Compare content         | `"a".equals("a")` ‚Üí `true`             |
| `toUpperCase()` | Converts to uppercase   | `"java".toUpperCase()` ‚Üí `"JAVA"`      |
| `trim()`        | Removes spaces          | `"  hi  ".trim()` ‚Üí `"hi"`             |
| `split()`       | Splits string           | `"a,b,c".split(",")` ‚Üí `["a","b","c"]` |
| `replace()`     | Replace characters      | `"java".replace('a','o')` ‚Üí `"jovo"`   |

---

## 9. Real-World Example ‚Äî Reversing a String

### Using StringBuilder:

```java
public class ReverseString {
    public static void main(String[] args) {
        String input = "Placement";
        StringBuilder sb = new StringBuilder(input);
        System.out.println("Reversed: " + sb.reverse());
    }
}
```

Output:

```
Reversed: tnemecalP
```

---

## 10. When to Use What?

| Scenario                               | Recommended Class    |
| -------------------------------------- | -------------------- |
| Fixed text / configuration             | `String`             |
| Building large strings (single-thread) | `StringBuilder`      |
| Building large strings (multi-thread)  | `StringBuffer`       |
| Sensitive data / security critical     | `String` (immutable) |

---

## 11. Quick Interview Nuggets

* **Q:** Why is `String` immutable?
  **A:** For memory optimization, security, and thread safety.

* **Q:** Difference between `==` and `.equals()`?
  **A:** `==` ‚Üí compares references; `.equals()` ‚Üí compares content.

* **Q:** Which is faster ‚Äî `StringBuilder` or `StringBuffer`?
  **A:** `StringBuilder` (because it‚Äôs not synchronized).

* **Q:** Can we make `String` mutable?
  **A:** No, but we can simulate it using `StringBuilder` or `StringBuffer`.

---

## Key Takeaways

* **Strings are immutable** ‚Üí stored in **String Constant Pool**.

* **`StringBuffer` and `StringBuilder`** are mutable ‚Üí use when modifying strings frequently.

* **Use `StringBuilder`** for performance-sensitive, single-threaded operations.

* **Avoid using `+`** for concatenation in loops.

---